<%- include('navbar', {title: 'Search By Ingredients'}) %> 

      <!--Side Nav for mobile view-->
      <ul class="sidenav" id = "mobile-nav">
        <%- include('sideMenuMain') %> 
        <div class="divider"></div>
        <p class = "sideMenuText"><strong>Search Type</strong></p>
        <li><a  href="<%= root %>/user/search ">General</a></li>
        <li style="background-color: #ee7176;"><a  href="<%=root%>/user/search/ingredients">By Ingredient</a></li>
      </ul>
  
      <!--Food Categories Tab-->
     <div style="padding-top: 2px;" class="hide-on-med-and-down">
      <nav class="white">
        <div class="nav-wrapper">
          <div style="width: 100%;" class="row">
            <ul id = "tabsBar"  class="tabs tab-demo  hide-on-med-and-down">
              <li class="tab col s6"><a id = "recFoodsTab"  href="<%=root%>/user/search">General Search</a></li>
              <li class="tab col s6"><a id = "fastFoodsTab" style = "color: #EE7176;"   href="<%=root%>/user/search/ingredients">Search by Ingredients</a></li>
            </ul>
          </div>
         </div>
      </nav>
     </div>
     <div class="divider"></div>
     <div class="section new-section">
        <div class="container">
            <!--Search Field-->
            <div class="row">
                <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                    
                    <input type="text" id="autocomplete-input" class="autocomplete">
                    <label id = "label" for="autocomplete-input">Ingredient name</label>
                    </div>
                    
                </div>
                </div>
            </div>
        </div>
    </div>

    
    <div id = "tags-section" class="section">
        <div class="container">
            <div class="card-panel">
              <div id = "tags-row" class="row">
                <%ingredients.forEach(function(ingredient) { %> 
                <span style = "margin-right: 10px; border-radius: 25px;" class = "btn-small"><%=ingredient%><a class='delete-item secondary-content'><i style="padding-right:2px;" class = "white-text center-align material-icons">close</i></a></span>
                <% })%>
              </div>   
            </div>
            <br>
            
        </div>
    </div>
    <div class="container">
      <div class="row">
        <button style="width: 48%;" id = 'searchBtn' class = "btn  waves-effect"> Search </button>
        <button id = "clearBtn" style="width: 48%;" id = 'outputBtn' class = "btn red darken-1 white-text waves-effect disabled"> Clear </button>
      </div>
    </div>

        <!--Search result food-->
    <section class="section section-cardinfo scrollspy">
      <p id = "warning" class="center-align"></p>
        <div class="container">
          <div class="row">
              <% if(foods.length>0) {%> 
                  <ul class="collection">
                      <% foods.forEach(function(food) {%>
                          <a href="<%=root%>/user/food/<%=food._id%>" class="collection-item avatar">
                              <img src="<%= food.photoLink %>" alt="<%= food.name %>" class="circle">
                              <p class = "teal-text"><strong><%= food.name.toUpperCase() %></strong></p>
                              <span style="color: #9e9e9e;" class = "title">Category: <%= food.category %></span>
                          </a>
                      <% }); %> 
                  </ul>
              <% }%> 
          </div>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="<%=root%>/js/ingredients.js"></script>
    <script>
      let success = `<%=success%>`;
      let message = `<%=message%>`;
      function sendToRelevantPage(id){
        location.href = `<%=root%>/user/food/${id}`;
      }
    </script>
</body>
</html>